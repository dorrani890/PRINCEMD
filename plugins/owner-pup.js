const _0x571b39=_0x1646;(function(_0x12a245,_0x50dbdf){const _0x5e4e86=_0x1646;const _0x300da9=_0x12a245();while(!![]){try{const _0x18e179=parseInt(_0x5e4e86(0x11e))/(0x706*-0x2+0x213f+-0x9*0x222)*(parseInt(_0x5e4e86(0x14a))/(0x1759+0x11*0xdb+-0x175*0x1a))+parseInt(_0x5e4e86(0x151))/(-0x451*-0x2+-0x1737+-0x74c*-0x2)+-parseInt(_0x5e4e86(0x148))/(0x25bb+-0x3eb*-0x3+-0x3178*0x1)*(-parseInt(_0x5e4e86(0x13f))/(0x191+0x19*-0x6c+-0x60*-0x18))+parseInt(_0x5e4e86(0x136))/(0x211*0xd+-0x910+-0x11c7)*(parseInt(_0x5e4e86(0x143))/(-0x1f7c+0x4*-0xe4+-0xdb*-0x29))+parseInt(_0x5e4e86(0x121))/(-0x962+-0x33d*0x9+-0x1*-0x268f)+-parseInt(_0x5e4e86(0x119))/(0x1*0x167b+-0x2*0x911+-0x8a*0x8)*(parseInt(_0x5e4e86(0x14f))/(-0x2561+-0x2567+0x4ad2*0x1))+-parseInt(_0x5e4e86(0x129))/(0x173f+0x6d8+-0xf06*0x2);if(_0x18e179===_0x50dbdf){break;}else{_0x300da9['push'](_0x300da9['shift']());}}catch(_0x300cdb){_0x300da9['push'](_0x300da9['shift']());}}}(_0x5be4,0xfb5d8+0x6928f+-0xa91e*0x13));import _0x167d6b from'node-fetch';import _0x2b7f41 from'fs/promises';import _0x3419dd from'path';const REPO_OWNER=_0x571b39(0x14c);const REPO_NAME=_0x571b39(0x131);const GITHUB_API=_0x571b39(0x150);async function getLatestCommit(){const _0x5b5537=_0x571b39;const _0xcc0b49={'QqLFg':function(_0x36e82a,_0x27848b){return _0x36e82a(_0x27848b);}};const _0x2e243a=await _0xcc0b49['QqLFg'](_0x167d6b,GITHUB_API+_0x5b5537(0x12d)+REPO_OWNER+'/'+REPO_NAME+_0x5b5537(0x12e));const _0x55ca03=await _0x2e243a[_0x5b5537(0x128)]();return _0x55ca03[_0x5b5537(0x132)];}async function getChangedFiles(_0x3668ac,_0x4ce5c0){const _0x1c84f4=_0x571b39;const _0x54f7c5={'KGRsd':function(_0x1782b5,_0x22dbb4){return _0x1782b5(_0x22dbb4);}};const _0xcc20f3=await _0x54f7c5[_0x1c84f4(0x13e)](_0x167d6b,GITHUB_API+'/repos/'+REPO_OWNER+'/'+REPO_NAME+_0x1c84f4(0x144)+_0x3668ac+_0x1c84f4(0x153)+_0x4ce5c0);const _0x4fec77=await _0xcc20f3[_0x1c84f4(0x128)]();return _0x4fec77['files'];}async function getCurrentCommit(){const _0x482705=_0x571b39;const _0x299930={};_0x299930[_0x482705(0x126)]='utf8';_0x299930[_0x482705(0x114)]='No\x20local\x20commit\x20SHA\x20found.\x20This\x20might\x20be\x20the\x20first\x20run.';const _0x5edd84=_0x299930;try{const _0x15c1dc=await _0x2b7f41['readFile'](_0x3419dd[_0x482705(0x123)](process['cwd'](),_0x482705(0x124)),_0x5edd84[_0x482705(0x126)]);return _0x15c1dc[_0x482705(0x12a)]();}catch(_0x26df2f){console[_0x482705(0x12c)](_0x5edd84[_0x482705(0x114)]);return null;}}function _0x1646(_0x410d4b,_0x1badf4){const _0x392e80=_0x5be4();_0x1646=function(_0x4a9633,_0x20fd20){_0x4a9633=_0x4a9633-(-0x48*-0x30+-0xd9a+0x12e);let _0x438413=_0x392e80[_0x4a9633];return _0x438413;};return _0x1646(_0x410d4b,_0x1badf4);}async function saveCurrentCommit(_0xa1b0cc){const _0x394705=_0x571b39;await _0x2b7f41[_0x394705(0x130)](_0x3419dd[_0x394705(0x123)](process[_0x394705(0x134)](),_0x394705(0x124)),_0xa1b0cc);}async function downloadFile(_0x159e2c,_0x56028a){const _0x419a68=_0x571b39;const _0xf81d90={};_0xf81d90[_0x419a68(0x125)]=_0x419a68(0x12f);const _0xffc931=_0xf81d90;const _0x559abd=await _0x167d6b(_0x159e2c);const _0x21706f=await _0x559abd[_0x419a68(0x140)]();await _0x2b7f41[_0x419a68(0x130)](_0x56028a,_0x21706f,_0xffc931[_0x419a68(0x125)]);}let handler=async(_0x3f4398,{conn:_0x2c37dc,text:_0x383193})=>{const _0x35ec4a=_0x571b39;const _0x52e1f0={'kDrCe':_0x35ec4a(0x115),'TdKdE':function(_0x4f9e7b){return _0x4f9e7b();},'xoAhd':_0x35ec4a(0x139),'HeUEe':function(_0x33c780){return _0x33c780();},'KqkLI':function(_0x5197dc,_0x309ebd){return _0x5197dc===_0x309ebd;},'wXLaB':_0x35ec4a(0x141),'qeUYE':function(_0x397d38,_0x125d89,_0x53f1e3){return _0x397d38(_0x125d89,_0x53f1e3);},'HaNPv':function(_0x200555,_0x3140e9){return _0x200555||_0x3140e9;},'EqLqX':_0x35ec4a(0x13b),'oYPeK':_0x35ec4a(0x13a),'SgSBd':_0x35ec4a(0x154),'pMdZx':function(_0x50cd92,_0x2feb31){return _0x50cd92(_0x2feb31);}};try{await _0x3f4398[_0x35ec4a(0x117)]('üïì');console[_0x35ec4a(0x12c)](_0x52e1f0['kDrCe']);const _0x716b9e=await _0x52e1f0[_0x35ec4a(0x137)](getLatestCommit);console[_0x35ec4a(0x12c)](_0x52e1f0[_0x35ec4a(0x14d)]);const _0x8a3255=await _0x52e1f0[_0x35ec4a(0x11c)](getCurrentCommit);if(_0x52e1f0[_0x35ec4a(0x135)](_0x8a3255,_0x716b9e)){await _0x2c37dc[_0x35ec4a(0x12b)](_0x3f4398[_0x35ec4a(0x11f)],_0x52e1f0['wXLaB'],_0x3f4398);await _0x3f4398[_0x35ec4a(0x117)]('‚úÖ');return;}console['log']('Checking\x20for\x20changes...');const _0x2fbbd0=await _0x52e1f0[_0x35ec4a(0x147)](getChangedFiles,_0x52e1f0[_0x35ec4a(0x14b)](_0x8a3255,_0x716b9e),_0x716b9e);if(_0x52e1f0[_0x35ec4a(0x135)](_0x2fbbd0[_0x35ec4a(0x120)],-0x2*0xa7b+-0x158d+0x1*0x2a83)){await _0x2c37dc[_0x35ec4a(0x12b)](_0x3f4398['chat'],_0x52e1f0['EqLqX'],_0x3f4398);await _0x3f4398[_0x35ec4a(0x117)]('‚úÖ');return;}console[_0x35ec4a(0x12c)](_0x52e1f0['oYPeK']);for(const _0x31edbd of _0x2fbbd0){if(_0x52e1f0[_0x35ec4a(0x135)](_0x31edbd['status'],_0x35ec4a(0x156))){await _0x2b7f41[_0x35ec4a(0x138)](_0x31edbd['filename'])[_0x35ec4a(0x155)](()=>{});}else{await _0x52e1f0['qeUYE'](downloadFile,_0x31edbd[_0x35ec4a(0x133)],_0x31edbd[_0x35ec4a(0x11d)]);}}console[_0x35ec4a(0x12c)](_0x52e1f0[_0x35ec4a(0x146)]);await _0x52e1f0[_0x35ec4a(0x127)](saveCurrentCommit,_0x716b9e);let _0xf2653d=_0x35ec4a(0x142)+_0x2fbbd0[_0x35ec4a(0x122)](_0x114d43=>_0x114d43[_0x35ec4a(0x11d)])['join']('\x0a');await _0x2c37dc['reply'](_0x3f4398['chat'],_0xf2653d,_0x3f4398);await _0x3f4398['react']('‚úÖ');}catch(_0x44443c){console[_0x35ec4a(0x145)](_0x35ec4a(0x116)+_0x44443c[_0x35ec4a(0x118)]+_0x35ec4a(0x14e)+_0x44443c[_0x35ec4a(0x11a)]);let _0x4e64db='Error\x20while\x20updating:\x0a\x0a'+_0x44443c['message'];await _0x2c37dc[_0x35ec4a(0x12b)](_0x3f4398[_0x35ec4a(0x11f)],_0x4e64db,_0x3f4398);await _0x3f4398[_0x35ec4a(0x117)]('‚ùå');}};handler[_0x571b39(0x13c)]=[_0x571b39(0x13d)];handler['tags']=['owner'];handler[_0x571b39(0x152)]=[_0x571b39(0x11b),'up'];handler[_0x571b39(0x149)]=!![];function _0x5be4(){const _0x563780=['KGRsd','345095MSmPjS','text','*Your\x20bot\x20is\x20already\x20up\x20to\x20date!*','*Update\x20successful!*‚úÖ\x0a\x0aUpdated\x20files:\x0a','7JsgUHr','/compare/','error','SgSBd','qeUYE','52ZcnwAw','rowner','1336878rUJwrY','HaNPv','DASTAGHIR','xoAhd','\x0aStack:\x20','2604130lgJIqr','https://api.github.com','1799967eBRgXx','command','...','Saving\x20current\x20commit...','catch','removed','IwMOQ','Fetching\x20latest\x20commit...','Error:\x20','react','message','36grBSJq','stack','pupdate','HeUEe','filename','1hWebBF','chat','length','5861096YooLYU','map','join','.current-commit-sha','YPOLv','MBXlu','pMdZx','json','22050380HlAdqN','trim','reply','log','/repos/','/commits/main','utf8','writeFile','PRINCEMD','sha','raw_url','cwd','KqkLI','4713966yrqHHr','TdKdE','unlink','Getting\x20current\x20commit...','Updating\x20files...','*No\x20changes\x20detected.\x20Your\x20bot\x20is\x20up\x20to\x20date!*','help','update'];_0x5be4=function(){return _0x563780;};return _0x5be4();}export default handler;
